<!-- $Id: D03_CVB_Step1_XML_last_cablevocie_on_sub_delete_EMTA.xml,v 1.1 2009/11/23 13:29:27 varshag Exp $ -->
<!--
D03_CVB_Step1_XML_last_cablevocie_on_sub_delete_EMTA.xml

This request will come from TRIPLE

Following services will be deleted:
TRIPLE will send delete on  emta (cable modem and mta) only if subscriber has  cable voice plan as a last plan.
1. cpe_composed
       -smp_emta_cm_hsd_access
       -smp_emta_pc_voip_access

2. voice service with its child services
	- smp_switch_dial_tone_access
	- smp_switch_feature_pkg_std
	- primary_voicemail_box	-optional
-->

<smpsa:executeOrderRequest xmlns:smpsa="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cmn="http://java.sun.com/products/oss/xml/Common" xmlns:sa="http://java.sun.com/products/oss/xml/ServiceActivation" xmlns:smpcbe="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xmlns:smpcmn="http://www.sigma-systems.com/schemas/3.1/SmpCommonValues" xmlns:cbesvc="http://java.sun.com/products/oss/xml/CBE/Service">
  <smp:orderValue xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" xsi:type="smp:ActionOrderValue">
    <cmn:lastUpdateVersionNumber>-1</cmn:lastUpdateVersionNumber>
    <sa:apiClientId>TRIPLE</sa:apiClientId>
    <sa:orderKey xsi:type="smp:OrderKeyType">
      <cmn:type>com.sigma.samp.cmn.order.SampOrderKey</cmn:type>
      <sa:primaryKey>-1</sa:primaryKey>
    </sa:orderKey>
    <sa:priority>3</sa:priority>
    <sa:orderState smpState="open.not_running.not_started" xsi:type="smp:SubOrderStateType">open.not_running.not_started</sa:orderState>
    <smp:subKey>
      <cmn:type>SubSpec:-</cmn:type>
      <smpcbe:primaryKey>235002</smpcbe:primaryKey>
    </smp:subKey>
    <smp:orderParamList>
      <smpcmn:param name="queue_request_flag">yes</smpcmn:param>
      <smpcmn:param name="has_groups">yes</smpcmn:param>
    </smp:orderParamList>
    <smp:orderItemList>
      <smp:orderItem>
        <smp:action>delete</smp:action>
        <smp:itemParamList/>
        <smpsa:entityKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBEServiceSchema" xsi:type="smp:SubSvcKeyType">
          <cmn:type>SubSvcSpec:smp_voice_line</cmn:type>
          <smp:externalKey>smp_voice_line_10004</smp:externalKey>
        </smpsa:entityKey>
        <smpsa:entityValue xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBEServiceSchema" xsi:type="smp:SubSvcType">
          <cbesvc:serviceState xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" provisionState="deleted" xsi:type="smp:SubSvcStateType">inactive</cbesvc:serviceState>
          <smp:serviceKey>
            <cmn:type>SubSvcSpec:smp_voice_line</cmn:type>
            <smp:externalKey>smp_voice_line_10004</smp:externalKey>
          </smp:serviceKey>
          <smp:childServiceList>
            <smp:serviceValue>
              <cbesvc:serviceState xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" provisionState="deleted" xsi:type="smp:SubSvcStateType">inactive</cbesvc:serviceState>
              <smp:serviceKey>
                <cmn:type>SubSvcSpec:smp_switch_dial_tone_access</cmn:type>
                <smp:externalKey>smp_switch_dial_tone_access_10001</smp:externalKey>
              </smp:serviceKey>
              <smp:parentServiceKey>
                <cmn:type>SubSvcSpec:smp_voice_line</cmn:type>
                <smp:externalKey>smp_voice_line_10004</smp:externalKey>
              </smp:parentServiceKey>
              <smp:paramList>
              </smp:paramList>
              <smp:associationList>
                <smpcbe:association>
                  <smpcbe:associationType>service_on_address</smpcbe:associationType>
                  <smp:zEndKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xsi:type="smp:SubAddressKeyType">
                    <cmn:type>SubAddress</cmn:type>
                    <smp:externalKey>primary</smp:externalKey>
                  </smp:zEndKey>
                </smpcbe:association>
                <smpcbe:association>
                  <smpcbe:associationType>dt_has_access</smpcbe:associationType>
                  <smpcbe:zEndKey xsi:type="smp:SubSvcKeyType">
                    <cmn:type>SubSvc</cmn:type>
                    <smp:externalKey>smp_emta_pc_voip_access_4444444444412</smp:externalKey>
                  </smpcbe:zEndKey>
                </smpcbe:association>
              </smp:associationList>
            </smp:serviceValue>
            <smp:serviceValue>
              <cbesvc:serviceState xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" provisionState="deleted" xsi:type="smp:SubSvcStateType">inactive</cbesvc:serviceState>
              <smp:serviceKey>
                <cmn:type>SubSvcSpec:smp_switch_feature_pkg_std</cmn:type>
                <smp:externalKey>smp_switch_feature_pkg_std_10002</smp:externalKey>
              </smp:serviceKey>
              <smp:parentServiceKey>
                <cmn:type>SubSvcSpec:smp_voice_line</cmn:type>
                <smp:externalKey>smp_voice_line_10004</smp:externalKey>
              </smp:parentServiceKey>
              <smp:paramList>
              </smp:paramList>
              <smp:associationList>
                <smpcbe:association>
                  <smpcbe:associationType>service_on_address</smpcbe:associationType>
                  <smp:zEndKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xsi:type="smp:SubAddressKeyType">
                    <cmn:type>SubAddress</cmn:type>
                    <smp:externalKey>primary</smp:externalKey>
                  </smp:zEndKey>
                </smpcbe:association>
              </smp:associationList>
            </smp:serviceValue>
            <smp:serviceValue>
              <cbesvc:serviceState xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" provisionState="deleted" xsi:type="smp:SubSvcStateType">inactive</cbesvc:serviceState>
              <smp:serviceKey>
                <cmn:type>SubSvcSpec:primary_voicemail_box</cmn:type>
                <smp:externalKey>primary_voicemail_box_10003</smp:externalKey>
              </smp:serviceKey>
              <smp:parentServiceKey>
                <cmn:type>SubSvcSpec:smp_voice_line</cmn:type>
                <smp:externalKey>smp_voice_line_10004</smp:externalKey>
              </smp:parentServiceKey>
              <smp:paramList>
              </smp:paramList>
              <smp:associationList>
                <smp:association xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xsi:type="smp:ParmAssocType">
                  <smp:associationType>service_parm_has_prereq</smp:associationType>
                  <smpcbe:zEndKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBEServiceSchema" xsi:type="smp:SubSvcKeyType">
                    <cmn:type>SubSvcSpec:smp_switch_dial_tone_access</cmn:type>
                    <smp:externalKey>smp_switch_dial_tone_access_10001</smp:externalKey>
                  </smpcbe:zEndKey>
                  <smp:aParamName>telephone_number</smp:aParamName>
                  <smp:zParamName>telephone_number</smp:zParamName>
                </smp:association>
                <smp:association xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xsi:type="smp:ParmAssocType">
                  <smp:associationType>service_parm_has_prereq</smp:associationType>
                  <smpcbe:zEndKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBEServiceSchema" xsi:type="smp:SubSvcKeyType">
                    <cmn:type>SubSvcSpec:smp_switch_dial_tone_access</cmn:type>
                    <smp:externalKey>smp_switch_dial_tone_access_10001</smp:externalKey>
                  </smpcbe:zEndKey>
                  <smp:aParamName>mta_fqdn</smp:aParamName>
                  <smp:zParamName>mta_fqdn</smp:zParamName>
                </smp:association>
                <smpcbe:association>
                  <smpcbe:associationType>service_has_prereq</smpcbe:associationType>
                  <smpcbe:zEndKey xsi:type="smp:SubSvcKeyType">
                    <cmn:type>SubSvcSpec:smp_switch_dial_tone_access</cmn:type>
                    <smp:externalKey>smp_switch_dial_tone_access_10001</smp:externalKey>
                  </smpcbe:zEndKey>
                </smpcbe:association>
                <smpcbe:association>
                  <smpcbe:associationType>service_has_prereq</smpcbe:associationType>
                  <smpcbe:zEndKey xsi:type="smp:SubSvcKeyType">
                    <cmn:type>SubSvcSpec:smp_switch_feature_pkg_std</cmn:type>
                    <smp:externalKey>smp_switch_feature_pkg_std_10002</smp:externalKey>
                  </smpcbe:zEndKey>
                </smpcbe:association>
                <smpcbe:association>
                  <smpcbe:associationType>service_on_address</smpcbe:associationType>
                  <smp:zEndKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xsi:type="smp:SubAddressKeyType">
                    <cmn:type>SubAddress</cmn:type>
                    <smp:externalKey>primary</smp:externalKey>
                  </smp:zEndKey>
                </smpcbe:association>
              </smp:associationList>
            </smp:serviceValue>
          </smp:childServiceList>
        </smpsa:entityValue>
      </smp:orderItem>
      <smp:orderItem>
        <smp:action>delete</smp:action>
        <smp:itemParamList/>
        <smpsa:entityKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBEServiceSchema" xsi:type="smp:SubSvcKeyType">
          <cmn:type>SubSvcSpec:cpe_composed</cmn:type>
          <smp:externalKey>cpe_composed_30001</smp:externalKey>
        </smpsa:entityKey>
        <smpsa:entityValue xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBEServiceSchema" xsi:type="smp:SubSvcType">
          <cbesvc:serviceState xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" provisionState="deleted" xsi:type="smp:SubSvcStateType">inactive</cbesvc:serviceState>
          <smp:serviceKey>
            <cmn:type>SubSvcSpec:cpe_composed</cmn:type>
            <smp:externalKey>cpe_composed_30001</smp:externalKey>
          </smp:serviceKey>
          <smp:childServiceList>
            <smp:serviceValue>
              <cbesvc:serviceState xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" provisionState="deleted" xsi:type="smp:SubSvcStateType">inactive</cbesvc:serviceState>
              <smp:serviceKey>
                <cmn:type>SubSvcSpec:smp_emta_cm_hsd_access</cmn:type>
                <smp:externalKey>smp_emta_cm_hsd_access_30002</smp:externalKey>
              </smp:serviceKey>
              <smp:parentServiceKey>
                <cmn:type>SubSvcSpec:cpe_composed</cmn:type>
                <smp:externalKey>cpe_composed_30001</smp:externalKey>
              </smp:parentServiceKey>
              <smp:paramList>
              </smp:paramList>
              <smp:associationList>
                <smpcbe:association>
                  <smpcbe:associationType>service_on_address</smpcbe:associationType>
                  <smp:zEndKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xsi:type="smp:SubAddressKeyType">
                    <cmn:type>SubAddress</cmn:type>
                    <smp:externalKey>primary</smp:externalKey>
                  </smp:zEndKey>
                </smpcbe:association>
              </smp:associationList>
            </smp:serviceValue>
            <smp:serviceValue>
              <cbesvc:serviceState xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpServiceActivationSchema" provisionState="deleted" xsi:type="smp:SubSvcStateType">inactive</cbesvc:serviceState>
              <smp:serviceKey>
                <cmn:type>SubSvcSpec:smp_emta_pc_voip_access</cmn:type>
                <smp:externalKey>smp_emta_pc_voip_access_30003</smp:externalKey>
              </smp:serviceKey>
              <smp:parentServiceKey>
                <cmn:type>SubSvcSpec:cpe_composed</cmn:type>
                <smp:externalKey>cpe_composed_30001</smp:externalKey>
              </smp:parentServiceKey>
              <smp:paramList>
              </smp:paramList>
              <smp:associationList>
                <smpcbe:association>
                  <smpcbe:associationType>service_on_address</smpcbe:associationType>
                  <smp:zEndKey xmlns:smp="http://www.sigma-systems.com/schemas/3.1/SmpCBECoreSchema" xsi:type="smp:SubAddressKeyType">
                    <cmn:type>SubAddress</cmn:type>
                    <smp:externalKey>primary</smp:externalKey>
                  </smp:zEndKey>
                </smpcbe:association>
              </smp:associationList>
            </smp:serviceValue>
          </smp:childServiceList>
        </smpsa:entityValue>
      </smp:orderItem>
    </smp:orderItemList>
  </smp:orderValue>
</smpsa:executeOrderRequest>